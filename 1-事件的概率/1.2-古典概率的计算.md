# 古典概率的计算

## 一. 公式

1. $A_n^m = n(n-1)(n-2)...(n-m+1)$

2. $C_n^m = A_n^m / A_m^m$

3. $C_n^m = n!/m!(n-m)!$

4. $2^n = C_n^0 + C_n^1 + C_n^2 + ... + C_n^n$

5. $0 = C_n^0 - C_n^1 + C_n^2 - C_n^3 + C_n^4 -...+{(-1)}^{n-1} \times C_n^n$

6. $C_{m+n}^k = \sum_{i=0}^k  C_m^i * C_n^{k - i}$

7. $n!/r_1!r_2!...r_k!$

## 二. 应用

### 1. 抽n个样品，恰好m个废品的概率（样品共N个，废品共M个）

不要漏算$C_{N-M}^{n-m}$

### 2. 2n个鞋子，分n堆，都成对的概率

试验所有基本事件数：$(2n)!/2^n$

事件所有基本事件数：$n!$

### 3. 男女不相邻（直线，男m，女n）

1. 先排男：$m!$

2. 再插女：$A_{m+1}^n$

3. 概率为：${m!A_{m+1}^n}/A_{m+n}^{m+n}$

### 4. 男女不相邻（圈排列，男m，女n）

1. 先排男：$m!/m$

2. 再插女：$A_{m}^n$

3. 概率为：${m!/mA_{m}^n}/A_{m+n}^{m+n}/{m+n}$

### 5. 口袋有2盒烟，分别n支，每次随机一盒一支，“有一次一盒空了，另外一盒还剩m支烟”的概率

这题关键在设置具体场景，假设两盒烟分别记为甲乙，事件是否发生要摸到第2n-m+1（要多摸一次，最后一次是摸甲乙其中一盒的剩下的m支烟）次才知道。

所以事件的基本事件数为 $2C_{2n-m+1}^n$，每次摸有可能摸甲，也有可能摸乙，所以试验总基本事件数为 $2^{2n-m+1}$

### 6. 21本不同的书，分17人，事件“6人0本，5人1本，2人2本，4人3本”的概率

关键在选择主体的选择，如果选择人作为选择主体，第一个人有选0到21本可能，后面的人能选多少书也会被前者影响。

选择书作为选择主体，书去选人，每本书都是1到17个人17种可能性，前后不受影响。总共基本事件数为 $17^21$。

然后分书的时候，注意很容易因为不写组合数（因为等于1，所以忽略）而漏了后续书的分配。

事件基本事件数为：$C_{17}^6C_{11}^5C_{21}^1C_{20}^1C_{19}^1C_{18}^1C_{17}^1C_6^2C_{16}^2C_{14}^2C_{12}^3C_9^3C_6^3$

### 7. n本书分甲乙两人，甲乙各自至少1本的概率

书为主体，共$2^n$种可能，反面考虑，全给了甲或全给了乙的概率为 $2 \times 1/2^n$，所以该题所求概率为：$1-1/2^{n-1}$
